<UserControl x:Class="MyukView.Controls.CropControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800"
             Background="#1E1E1E">
    <Grid>
        <Canvas x:Name="canvas"
                MouseLeftButtonDown="Canvas_MouseLeftButtonDown"
                MouseMove="Canvas_MouseMove"
                MouseLeftButtonUp="Canvas_MouseLeftButtonUp">
            <!-- 배경 이미지 -->
            <Image x:Name="imageControl"
                   Stretch="Uniform"
                   RenderOptions.BitmapScalingMode="HighQuality"/>

            <!-- 자르기 영역 오버레이 -->
            <Canvas x:Name="overlayCanvas">
                <!-- 어두운 영역 (4개로 분할) -->
                <Rectangle x:Name="topOverlay" Fill="#AA000000"/>
                <Rectangle x:Name="bottomOverlay" Fill="#AA000000"/>
                <Rectangle x:Name="leftOverlay" Fill="#AA000000"/>
                <Rectangle x:Name="rightOverlay" Fill="#AA000000"/>

                <!-- 자르기 영역 테두리 -->
                <Rectangle x:Name="cropRect"
                          Stroke="White"
                          StrokeThickness="2"
                          StrokeDashArray="4 2"/>

                <!-- 리사이즈 핸들 (8개) -->
                <Ellipse x:Name="handleTopLeft" Width="12" Height="12" Fill="White" Cursor="SizeNWSE"/>
                <Ellipse x:Name="handleTopRight" Width="12" Height="12" Fill="White" Cursor="SizeNESW"/>
                <Ellipse x:Name="handleBottomLeft" Width="12" Height="12" Fill="White" Cursor="SizeNESW"/>
                <Ellipse x:Name="handleBottomRight" Width="12" Height="12" Fill="White" Cursor="SizeNWSE"/>
                <Ellipse x:Name="handleTop" Width="12" Height="12" Fill="White" Cursor="SizeNS"/>
                <Ellipse x:Name="handleBottom" Width="12" Height="12" Fill="White" Cursor="SizeNS"/>
                <Ellipse x:Name="handleLeft" Width="12" Height="12" Fill="White" Cursor="SizeWE"/>
                <Ellipse x:Name="handleRight" Width="12" Height="12" Fill="White" Cursor="SizeWE"/>
            </Canvas>
        </Canvas>

        <!-- 정보 표시 -->
        <Border Background="#AA000000"
                CornerRadius="5"
                Padding="10,5"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="10">
            <TextBlock x:Name="txtCropInfo"
                       Foreground="White"
                       FontSize="12"
                       Text="드래그하여 자르기 영역 선택"/>
        </Border>
    </Grid>
</UserControl>
